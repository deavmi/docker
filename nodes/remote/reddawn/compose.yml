networks:
  mainNet:
    driver: bridge
    name: mainNet
    enable_ipv6: true
    ipam:
      config:
        - subnet: fde4:492a:fc7f::/48

services:
  host-statistics:
    extends:
      file: ../../../services/node_exporter/compose.yml
      service: statistics

  yggdrasil:
    extends:
      file: ../../../services/yggdrasil/compose.yml
      service: yggdrasil
    network_mode: "host"

  mycelium:
    extends:
      file: ../../../services/mycelium/compose.yml
      service: mycelium
    container_name: mycelium
    network_mode: "host"

  ircd:
    image: ghcr.io/deavmi/unrealircd-docker:master
    container_name: ircd
    restart: unless-stopped
    networks:
      - mainNet
    volumes:
      - ${IRCD_CONFIG_DIR}:/home/unreal/ircd/conf/

      # Makes timezone and time information available
      # - /etc/timezone:/etc/timezone:ro
      # - /etc/localtime:/etc/localtime:ro
    ports:
      - "6667:6667"
      - "6697:6697"
      - "6900:6900"
